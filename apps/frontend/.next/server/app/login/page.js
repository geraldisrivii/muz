(()=>{var e={};e.id=520,e.ids=[520],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5521:(e,r,s)=>{"use strict";s.d(r,{default:()=>u});var t=s(60687),o=s(16189),a=s(43210),i=s(27605),n=s(72006),l=s(85814),d=s.n(l);s(30177);var p=s(54864);let u=()=>{let e=(0,o.useRouter)(),r=(0,p.d4)(n.BN),s=(0,p.wA)(),[l,u]=(0,a.useState)(null),{register:c,handleSubmit:m,formState:{errors:h,isValid:x}}=(0,i.mN)({defaultValues:{email:"",password:""},mode:"onChange"}),f=async r=>{try{let t={email:r.email.trim(),password:r.password.trim()};if("admin@admin.com"===r.email&&"admin"===r.password)return void e.push("/admin");let o=(await s((0,n.tw)(t))).payload;if(!o)throw Error("No payload received");o.token?(localStorage.setItem("token",o.token),e.push("admin"===o.role?"/admin":"/")):u("Неверные учетные данные")}catch(e){u(e.message||"Ошибка сервера"),console.error("Auth error:",e)}};return r?(e.push("/"),null):(0,t.jsx)("section",{className:"Login",children:(0,t.jsxs)("div",{className:"preview",children:[(0,t.jsx)("h3",{className:"text-center",children:"Вход"}),l&&(0,t.jsx)("div",{className:"error-message",children:l}),(0,t.jsx)("div",{className:"registration-cssave",children:(0,t.jsxs)("form",{onSubmit:m(f),children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("input",{className:"form-control-item",type:"email",placeholder:"Email",...c("email",{required:"Введите почту",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Введите корректный email"}})}),h.email&&(0,t.jsx)("p",{className:"check",children:h.email.message})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("input",{className:"form-control-item",type:"password",placeholder:"Пароль",...c("password",{required:"Введите пароль",minLength:{value:6,message:"Минимум 6 символов"}})}),h.password&&(0,t.jsx)("p",{className:"check",children:h.password.message})]}),(0,t.jsx)("div",{className:"form-group",children:(0,t.jsx)("button",{className:"btn btn-primary btn-block create-account",type:"submit",disabled:!x,children:"ВОЙТИ"})}),(0,t.jsx)("div",{className:"form-group",children:(0,t.jsxs)(d(),{href:"/register",className:"register-link",children:["Нет аккаунта? ",(0,t.jsx)("span",{children:"Зарегистрироваться"})]})})]})})]})})}},6447:(e,r,s)=>{"use strict";s.d(r,{default:()=>o});var t=s(12907);(0,t.registerClientReference)(function(){throw Error("Attempted to call Login() from the server but Login is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/a1111/projects/muz-store/apps/frontend/src/views/login/Login.tsx","Login");let o=(0,t.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/a1111/projects/muz-store/apps/frontend/src/views/login/Login.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/a1111/projects/muz-store/apps/frontend/src/views/login/Login.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},16189:(e,r,s)=>{"use strict";var t=s(65773);s.o(t,"useParams")&&s.d(r,{useParams:function(){return t.useParams}}),s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}})},18901:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>p,routeModule:()=>c,tree:()=>d});var t=s(65239),o=s(48088),a=s(88170),i=s.n(a),n=s(30893),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(r,l);let d={children:["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,46387)),"/Users/a1111/projects/muz-store/apps/frontend/app/login/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,82154)),"/Users/a1111/projects/muz-store/apps/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,p=["/Users/a1111/projects/muz-store/apps/frontend/app/login/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},c=new t.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30177:()=>{},33873:e=>{"use strict";e.exports=require("path")},46055:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>o});var t=s(31658);let o=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,t.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},46387:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=s(6447).default},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},61251:(e,r,s)=>{Promise.resolve().then(s.bind(s,5521))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},78283:(e,r,s)=>{Promise.resolve().then(s.bind(s,6447))},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[447,926,658,605,704],()=>s(18901));module.exports=t})();