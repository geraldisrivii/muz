exports.id=704,exports.ids=[704],exports.modules={38696:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,86346,23)),Promise.resolve().then(s.t.bind(s,27924,23)),Promise.resolve().then(s.t.bind(s,35656,23)),Promise.resolve().then(s.t.bind(s,40099,23)),Promise.resolve().then(s.t.bind(s,38243,23)),Promise.resolve().then(s.t.bind(s,28827,23)),Promise.resolve().then(s.t.bind(s,62763,23)),Promise.resolve().then(s.t.bind(s,97173,23))},42389:(e,r,s)=>{"use strict";s.d(r,{ob:()=>t.ob,Us:()=>t.Us});var t=s(76059)},47349:()=>{},51848:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,16444,23)),Promise.resolve().then(s.t.bind(s,16042,23)),Promise.resolve().then(s.t.bind(s,88170,23)),Promise.resolve().then(s.t.bind(s,49477,23)),Promise.resolve().then(s.t.bind(s,29345,23)),Promise.resolve().then(s.t.bind(s,12089,23)),Promise.resolve().then(s.t.bind(s,46577,23)),Promise.resolve().then(s.t.bind(s,31307,23))},54647:()=>{},60509:()=>{},64306:(e,r,s)=>{"use strict";s.r(r),s.d(r,{Providers:()=>d});var t=s(60687),i=s(9317);let a=(0,i.Z0)({name:"products",initialState:{products:{items:[],status:"loading"},category:{items:[],status:"loading"}},reducers:{}}).reducer;var l=s(72006);let n=(0,i.U1)({reducer:{products:a,auth:l.li}});var o=s(42389);s(43210);var c=s(54864);let d=({children:e})=>(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(c.Kq,{store:n,children:(0,t.jsx)(o.ob,{children:e})})})},66997:(e,r,s)=>{"use strict";s.r(r),s.d(r,{Header:()=>o});var t=s(60687),i=s(72006),a=s(54864);s(43210),s(60509);var l=s(85814),n=s.n(l);function o(){let e=(0,a.wA)(),r=(0,a.d4)(i.BN);return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("header",{className:"header",children:(0,t.jsx)("div",{className:"container2",children:(0,t.jsxs)("div",{className:"header_row",children:[(0,t.jsxs)("div",{className:"header__logo",children:[(0,t.jsx)("img",{src:"/logo/NewLogo4.png",alt:"Logo"}),(0,t.jsxs)(n(),{href:"/",children:[" ",(0,t.jsxs)("span",{children:[(0,t.jsx)("a",{children:"AC"}),"CORD"]})]})]}),(0,t.jsx)("nav",{className:"header_nav",children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/new",children:"НОВИНКИ"})}),(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/catalog",children:"КАТАЛОГ"})}),(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/aboutUs",children:"МАГАЗИНЫ"})})]})}),(0,t.jsx)("div",{className:"header_nav_right",children:(0,t.jsx)("ul",{children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n(),{href:"/favourite",children:(0,t.jsxs)("button",{className:"trash_can",children:["Избранное",(0,t.jsx)("img",{src:"/icons/favourite.svg",alt:"can"})]})}),(0,t.jsx)(n(),{href:"/cart",children:(0,t.jsxs)("button",{className:"trash_can",children:["Корзина",(0,t.jsx)("img",{src:"/icons/cartIcon.png",alt:"can"})]})}),(0,t.jsxs)("div",{className:"user_profile",children:[(0,t.jsx)("button",{onClick:()=>{window.confirm("Вы уверены, что хотите выйти?")&&(e((0,i.ri)()),window.localStorage.removeItem("token"))},children:(0,t.jsx)(n(),{href:"/",children:(0,t.jsx)("button",{children:"Выйти"})})}),(0,t.jsx)(n(),{href:"/profile",children:(0,t.jsx)("img",{src:"/icons/profile.png",alt:"can"})})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n(),{href:"/favourite",children:(0,t.jsxs)("button",{className:"trash_can",children:["Избранное",(0,t.jsx)("img",{src:"/icons/favourite.svg",alt:"can"})]})}),(0,t.jsxs)("button",{className:"trash_can",children:[(0,t.jsx)(n(),{href:"/cart",children:"Корзина "}),(0,t.jsx)("img",{src:"/icons/cartIcon.png",alt:"can"})]}),(0,t.jsxs)("div",{className:"user_profile",children:[(0,t.jsx)("button",{children:(0,t.jsx)(n(),{href:"/login",children:"Войти"})}),(0,t.jsx)("img",{src:"/icons/profile.png",alt:"can"})]})]})})})]})})})})}},72006:(e,r,s)=>{"use strict";s.d(r,{li:()=>m,tw:()=>a,Rd:()=>n,_D:()=>l,ri:()=>h,ZB:()=>d,BN:()=>c});var t=s(9317);let i=s(51060).A.create({baseURL:"http://localhost:3002"});i.interceptors.request.use(e=>(e.headers.Authorization=window.localStorage.getItem("token"),e));let a=(0,t.zD)("auth/fetchAuth",async(e,{rejectWithValue:r})=>{try{let s=await fetch("http://localhost:3002/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})});if(!s.ok){let e=await s.json();return r(e)}return await s.json()}catch(e){return r(e.message)}}),l=(0,t.zD)("auth/fetchRegister",async(e,{rejectWithValue:r})=>{try{let{data:r}=await i.post("/api/auth/register",{email:e.email,password:e.password,confirmPassword:e.confirmPassword});return r}catch(e){return r(e.response?.data)}}),n=(0,t.zD)("auth/fetchAuthMe",async(e,{rejectWithValue:r})=>{try{let{data:e}=await i.get("/auth/me");return e}catch(e){return r(e.response.data)}}),o=(0,t.Z0)({name:"auth",initialState:{data:null,status:"idle",error:null},reducers:{logout:e=>{e.data=null,e.status="idle",e.error=null},clearError:e=>{e.error=null}},extraReducers:e=>{e.addMatcher(e=>e.type.endsWith("/pending"),e=>{e.status="loading",e.error=null}).addMatcher(e=>e.type.endsWith("/fulfilled"),(e,r)=>{e.status="succeeded",e.data=r.payload}).addMatcher(e=>e.type.endsWith("/rejected"),(e,r)=>{e.status="failed",e.error=r.payload?.message||"Произошла ошибка"})}}),c=e=>!!e.auth.data,d=e=>e.auth.error,{logout:h,clearError:u}=o.actions,m=o.reducer},74011:(e,r,s)=>{"use strict";s.r(r),s.d(r,{Providers:()=>t});let t=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/a1111/projects/muz-store/apps/frontend/src/widgets/providers/ui/providers.tsx","Providers")},76059:(e,r,s)=>{"use strict";s.d(r,{MI:()=>n,ob:()=>c,Us:()=>d});var t=s(60687),i=s(43210),a=s(51060),l=s(15659);let n=(0,i.createContext)(null),o="https://673876654eb22e24fca800c5.mockapi.io",c=({children:e})=>{let[r,s]=(0,i.useState)([]),[c,d]=(0,i.useState)([]),[h,u]=(0,i.useState)(!0),[m,x]=(0,i.useState)(null),[j,f]=(0,i.useState)(""),[p,v]=(0,i.useState)([]),g=c?.map(e=>({...e,price:Number(e.price)}))||[];(0,i.useEffect)(()=>{let e=l.A.get("favorites");if(e)try{v(JSON.parse(e))}catch(e){console.error("Ошибка при загрузке избранного:",e)}},[]),(0,i.useEffect)(()=>{p.length>0?l.A.set("favorites",JSON.stringify(p),{expires:30}):l.A.remove("favorites")},[p]);let b=(0,i.useCallback)(e=>{v(r=>r.some(r=>r.id===e.id)?r:[...r,e])},[]),y=(0,i.useCallback)(e=>{v(r=>r.filter(r=>r.id!==e))},[]),w=(0,i.useCallback)(e=>p.some(r=>r.id===e),[p]),_=(0,i.useCallback)(async()=>{u(!0),x(null);try{let[e,r]=await Promise.allSettled([a.A.get(`${o}/items`),a.A.get(`${o}/cart`)]);"fulfilled"===e.status&&s(e.value.data),"fulfilled"===r.status&&d(r.value.data)}catch(e){x("Ошибка при загрузке данных!")}finally{u(!1)}},[]);(0,i.useEffect)(()=>{_()},[_]);let N=async e=>{try{let{data:r}=await a.A.post(`${o}/items`,e);s(e=>[...e,r])}catch(e){console.error("Ошибка при добавлении товара:",e)}},P=async(e,r)=>{try{let{data:t}=await a.A.put(`${o}/items/${e}`,r);s(r=>r.map(r=>r.id===e?{...r,...t}:r))}catch(e){x("Ошибка при обновлении товара.")}},k=async e=>{try{await a.A.delete(`${o}/items/${e}`),s(r=>r.filter(r=>r.id!==e))}catch(e){x("Ошибка при удалении товара.")}},A=(0,i.useCallback)(async e=>{try{let r=c.find(r=>r.title===e.title);if(r){let e={...r,quantity:r.quantity+1};await a.A.put(`https://673876654eb22e24fca800c5.mockapi.io/cart/${r.id}`,e),d(s=>s.map(s=>s.id===r.id?e:s))}else{let r={...e,quantity:1},{data:s}=await a.A.post("https://673876654eb22e24fca800c5.mockapi.io/cart",r);d(e=>[...e,s])}}catch(e){console.error("Ошибка при добавлении товара в корзину:",e)}},[c]),C=async e=>{try{let r=c.find(r=>r.id===e);if(!r)return;if(r.quantity>1){let s={...r,quantity:r.quantity-1};await a.A.put(`https://673876654eb22e24fca800c5.mockapi.io/cart/${e}`,s),d(r=>r.map(r=>r.id===e?s:r))}else await a.A.delete(`https://673876654eb22e24fca800c5.mockapi.io/cart/${e}`),d(r=>r.filter(r=>r.id!==e))}catch(e){console.error("Ошибка при обновлении количества товара:",e)}};return(0,t.jsxs)(n.Provider,{value:{items:r,cartItems:c,processedItems:g,addProduct:N,updateProduct:P,deleteProduct:k,onAddToCart:A,onRemoveItem:C,isItemInCart:e=>c.some(r=>r.title===e),activeCategory:j,setActiveCategory:f,loading:h,error:m,favorites:p,addToFavorites:b,removeFromFavorites:y,isItemInFavorites:w},children:[h?(0,t.jsx)("span",{className:"loader"}):e,m&&(0,t.jsx)("p",{style:{color:"red"},children:m})]})},d=()=>{let e=(0,i.useContext)(n);if(!e)throw Error("useContext must be inside a Provider with a value");return e}},77048:(e,r,s)=>{Promise.resolve().then(s.bind(s,99091)),Promise.resolve().then(s.bind(s,74011))},82154:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>u,metadata:()=>h});var t=s(37413),i=s(56389),a=s.n(i),l=s(51189),n=s.n(l);s(82704);var o=s(99091);s(47349),s(61120);let c=()=>(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("footer",{className:"footer",children:(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:"footer__top",children:[(0,t.jsx)("div",{className:"footer__logo",children:(0,t.jsx)("img",{src:"/icons/LogoFooter.svg",alt:"Akcord Logo"})}),(0,t.jsxs)("div",{className:"footer__links",children:[(0,t.jsxs)("div",{className:"footer__section",children:[(0,t.jsx)("h4",{children:"Сотрудничество"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Юридическим лицам"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Поставщикам"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Дилерам"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Арендодателям"})})]})]}),(0,t.jsxs)("div",{className:"footer__section",children:[(0,t.jsx)("h4",{children:"С нами выгодно"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Акции и скидки"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Рассрочка"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Программа лояльности"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Подарочные карты"})})]})]}),(0,t.jsxs)("div",{className:"footer__section",children:[(0,t.jsx)("h4",{children:"Покупателям"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Доставка и оплата"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Горячая линия"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Гарантии"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",children:"Обмен и возврат"})})]})]})]}),(0,t.jsxs)("div",{className:"footer__social",children:[(0,t.jsx)("h4",{children:"Наши социальные сети"}),(0,t.jsxs)("div",{className:"messagers",children:[(0,t.jsx)("a",{href:"https://vk.com/lix1s",target:"_blank",className:"footer__vk",children:(0,t.jsx)("img",{src:"/icons/VKicon.svg",alt:"VK"})}),(0,t.jsx)("a",{href:"https://t.me/Lix1sBtw",target:"_blank",className:"footer__vk",children:(0,t.jsx)("img",{src:"/icons/TGicon.svg",alt:"TG"})})]}),(0,t.jsx)("a",{href:"tel:+79605732352",className:"footer__phone",children:"+7 960 517 32 52"}),(0,t.jsxs)("div",{className:"footer__bottom",children:[(0,t.jsx)("p",{children:"\xa9 2024–2025 \xabАккорд\xbb — музыкальные инструменты, интернет-магазин. Все права защищены."}),(0,t.jsx)("p",{children:"Копирование материалов с сайта без ссылки на этот ресурс запрещено."})]})]})]})})})});var d=s(74011);let h={title:"Create Next App",description:"Generated by create next app"};function u({children:e}){return(0,t.jsx)("html",{lang:"en",children:(0,t.jsx)("body",{className:`${a().variable} ${n().variable} antialiased`,children:(0,t.jsxs)(d.Providers,{children:[(0,t.jsx)(o.Header,{}),e,(0,t.jsx)(c,{})]})})})}},82704:()=>{},86776:(e,r,s)=>{Promise.resolve().then(s.bind(s,66997)),Promise.resolve().then(s.bind(s,64306))},99091:(e,r,s)=>{"use strict";s.r(r),s.d(r,{Header:()=>t});let t=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call Header() from the server but Header is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/a1111/projects/muz-store/apps/frontend/src/widgets/header/ui/header.tsx","Header")}};